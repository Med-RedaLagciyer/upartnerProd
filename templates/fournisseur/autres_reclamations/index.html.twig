{% extends 'base.html.twig' %}

{% block title %}Factures{% endblock %}

{% block pagetitle %}Autres reclamations{% endblock %}
{% block buttons %}
            {# <ul id="">
              <a type="button" id="btnAjouter" class="btnAjouter mt-1" style ="font-size: 12px !important; padding:7px !important; color: black"><i class="fa fa-plus"></i>  Autre Factures</a>
            </ul> #}
{% endblock %}
{% block stylesheets %} 
    {{parent()}}
{% endblock %}
{% block body %}
	{# <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" /> #}
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap4.min.css" />
<div class="card">
    <div class="card-body">
        <div class="row" style="margin-bottom: 0px;">
                                            
                <div class="col-6 row">
                    <div class="col-5" style="margin-bottom:0 !important">
                        <label style="font-size:12px !important; margin-right:10px">Partenaire</label>
                    </div>
                    <div class="col-7" style="margin-bottom:0 !important">
                        <span style="font-weight:light !important; font-size:12px !important"><label style="font-size:12px !important; margin-right:10px">:</label> {{donnee.partenaire.nom}} {{donnee.partenaire.prenom}}</span>
                    </div>
                </div>   
        </div>
        <div class="row" style="margin-bottom: 0px;">
                                            
                <div class="col-6 row">
                    <div class="col-5" style="margin-bottom:0 !important">
                        <label style="font-size:12px !important; margin-right:10px">Nombre des factures</label>
                    </div>
                    <div class="col-7" style="margin-bottom:0 !important">
                        <span style="font-weight:light !important; font-size:12px !important"><label style="font-size:12px !important; margin-right:10px">:</label> {{donnee.factureCount}}</span>
                    </div>
                </div>      

                <div class="col-6 row">
                    <div class="col-5" style="margin-bottom:0 !important">
                        <label style="font-size:12px !important; margin-right:10px">Montant</label>
                    </div>
                    <div class="col-7" style="margin-bottom:0 !important">
                        <span style="font-weight:light !important; font-size:12px !important"><label style="font-size:12px !important; margin-right:10px">:</label> {{donnee.montantTotal |number_format(2, '.', ' ')}}</span>
                    </div>
                </div>  
        </div>
        <div class="row" style="margin-bottom: 0px;">
                                            
                <div class="col-6 row">
                    <div class="col-5" style="margin-bottom:0 !important">
                        <label style="font-size:12px !important; margin-right:10px">Nombre des factures réglées</label>
                    </div>
                    <div class="col-7" style="margin-bottom:0 !important">
                        <span style="font-weight:light !important; font-size:12px !important"><label style="font-size:12px !important; margin-right:10px">:</label> {{donnee.facturesRegleCount}}</span>
                    </div>
                </div>      

                <div class="col-6 row">
                    <div class="col-5" style="margin-bottom:0 !important">
                        <label style="font-size:12px !important; margin-right:10px">Montant de factures réglées</label>
                    </div>
                    <div class="col-7" style="margin-bottom:0 !important">
                        <span style="font-weight:light !important; font-size:12px !important"><label style="font-size:12px !important; margin-right:10px">:</label> {{donnee.montantTotalRegle |number_format(2, '.', ' ')}}</span>
                    </div>
                </div>  
        </div>
    </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div class="card card-danger card-outline" style="height: 68vh !important; overflow: auto;">
      <div class="card-body">
                        {# <label>Reclame:</label> #}
                        <form id="formAjouter">
                    
                            <div class="row">
                                
                                <div class="col-4">
                                    <div class="form-group">
                                        {# <label for="observation">Objet</label> #}
                                        <textarea type="text" class="form-control" placeholder="Objet" name="objet" rows="1"></textarea>
                                    </div>
                                </div>   
                                  

                            </div>
                            <div class="row">
                                
                                <div class="col-12">
                                    <div class="form-group">
                                        {# <label for="observation">Observation</label> #}
                                        <textarea type="text" class="form-control" placeholder="Observation" name="observation" rows="4"></textarea>
                                    </div>
                                </div>   
                                  

                            </div>
                        
                        </form>
                    
                    
                        <hr>

                        <label>Liste des Factures:</label>

                        <table id="datatables_facture_ajoute" style="width: 100% !important"  class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                            <th width="">N° Facture</th>
                                            <th width="10%">Date</th>
                                            <th width="10%">Montant</th>
                                            <th width="">Observation</th>
                                            <th width="5%"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input class="form-control" id="numFacture"  placeholder="N° Facture"></td>
                                            <td width="15%" ><input class="form-control" type="date" id="date"  placeholder="Date"></td>
                                            <td><input class="form-control" type="number" step="0.01" id="montant"  placeholder="Montant"></td>
                                            <td><input class="form-control" id="observation"  placeholder="Observation"></td>
                                            <td style="width:4% !important"><a id="btnAjouterFacture"class="btn btn-secondary btn-xs pull-right" style="width: 20px;"><i class="fas fa-plus"></i></a></td>
                                        </tr>
                                    </tbody>
                        </table>
                        <br>
                        <div class="" style="float: right;">
                            <button type="submit" form="formAjouter" class="btn btn-danger btn-xs pull-right" style="width: 100px;">Reclamer</button>
                        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card card-success card-outline" style="height: 68vh; !important overflow: auto;">
      <div class="card-body">
      {# <label>Reclamations :</label> #}
      <table
          id="datatables_gestion_reclamation"
          class="table table-condensed table-bordered"
        >
          <thead>
            <tr>
              <th colspan="3">Reclamation</th>
              <th colspan="2">reponse</th>
              <th ></th>
            </tr>
            <tr>
              <th width="">Objet</th>
              <th width="25%">Observation</th>
              <th width="25%">Date</th>
              <th width="25%">Reponse</th>
              <th width="25%">Date</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
      </table>
    </div>
  </div>
</div>

<!-- #modal-dialog -->
{% include 'fournisseur/factures/modals/modalDetails.html.twig' %}
{% include 'fournisseur/autres_reclamations/modals/modalRepondre.html.twig' %}


    
    {# {# <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script> #}

    

{% endblock %}

{% block javascripts %}
    {{parent()}}
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap4.min.js"></script>
    <script src="{{asset('dist/js/components/fournisseur/autres.js')}}"></>
<script>
    
</script>

{% endblock %}
